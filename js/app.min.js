window.Modernizr=function(window,document,undefined){var version="2.6.2",Modernizr={},docElement=document.documentElement,mod="modernizr",modElem=document.createElement(mod),mStyle=modElem.style,inputElem=document.createElement("input"),smile=":)",toString={}.toString,prefixes=" -webkit- -moz- -o- -ms- ".split(" "),omPrefixes="Webkit Moz O ms",cssomPrefixes=omPrefixes.split(" "),domPrefixes=omPrefixes.toLowerCase().split(" "),ns={svg:"http://www.w3.org/2000/svg"},tests={},inputs={},attrs={},classes=[],slice=classes.slice,featureName,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement("div"),body=document.body,fakeBody=body||document.createElement("body");if(parseInt(nodes,10)){while(nodes--){node=document.createElement("div");node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node)}}style=["&#173;",'<style id="s',mod,'">',rule,"</style>"].join("");div.id=mod;(body?div:fakeBody).innerHTML+=style;fakeBody.appendChild(div);if(!body){fakeBody.style.background="";fakeBody.style.overflow="hidden";docOverflow=docElement.style.overflow;docElement.style.overflow="hidden";docElement.appendChild(fakeBody)}ret=callback(div,rule);if(!body){fakeBody.parentNode.removeChild(fakeBody);docElement.style.overflow=docOverflow}else{div.parentNode.removeChild(div)}return!!ret},isEventSupported=function(){var TAGNAMES={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function isEventSupported(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||"div");eventName="on"+eventName;var isSupported=eventName in element;if(!isSupported){if(!element.setAttribute){element=document.createElement("div")}if(element.setAttribute&&element.removeAttribute){element.setAttribute(eventName,"");isSupported=is(element[eventName],"function");if(!is(element[eventName],"undefined")){element[eventName]=undefined}element.removeAttribute(eventName)}}element=null;return isSupported}return isEventSupported}(),_hasOwnProperty={}.hasOwnProperty,hasOwnProp;if(!is(_hasOwnProperty,"undefined")&&!is(_hasOwnProperty.call,"undefined")){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property)}}else{hasOwnProp=function(object,property){return property in object&&is(object.constructor.prototype[property],"undefined")}}if(!Function.prototype.bind){Function.prototype.bind=function bind(that){var target=this;if(typeof target!="function"){throw new TypeError}var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F;var result=target.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return self}else{return target.apply(that,args.concat(slice.call(arguments)))}};return bound}}function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+";")+(str2||""))}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(""+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,"-")&&mStyle[prop]!==undefined){return prefixed=="pfx"?prop:true}}return false}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined){if(elem===false)return props[i];if(is(item,"function")){return item.bind(elem||obj)}return item}}return false}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");if(is(prefixed,"string")||is(prefixed,"undefined")){return testProps(props,prefixed)}else{props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" ");return testDOMProps(props,prefixed,elem)}}tests["canvas"]=function(){var elem=document.createElement("canvas");return!!(elem.getContext&&elem.getContext("2d"))};tests["canvastext"]=function(){return!!(Modernizr["canvas"]&&is(document.createElement("canvas").getContext("2d").fillText,"function"))};tests["webgl"]=function(){return!!window.WebGLRenderingContext};tests["touch"]=function(){var bool;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch){bool=true}else{injectElementWithStyles(["@media (",prefixes.join("touch-enabled),("),mod,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(node){bool=node.offsetTop===9})}return bool};tests["geolocation"]=function(){return"geolocation"in navigator};tests["postmessage"]=function(){return!!window.postMessage};tests["websqldatabase"]=function(){return!!window.openDatabase};tests["indexedDB"]=function(){return!!testPropsAll("indexedDB",window)};tests["hashchange"]=function(){return isEventSupported("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7)};tests["history"]=function(){return!!(window.history&&history.pushState)};tests["draganddrop"]=function(){var div=document.createElement("div");return"draggable"in div||"ondragstart"in div&&"ondrop"in div};tests["fontface"]=function(){var bool;injectElementWithStyles('@font-face {font-family:"font";src:url("https://")}',function(node,rule){var style=document.getElementById("smodernizr"),sheet=style.sheet||style.styleSheet,cssText=sheet?sheet.cssRules&&sheet.cssRules[0]?sheet.cssRules[0].cssText:sheet.cssText||"":"";bool=/src/i.test(cssText)&&cssText.indexOf(rule.split(" ")[0])===0});return bool};tests["video"]=function(){var elem=document.createElement("video"),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(e){}return bool};tests["audio"]=function(){var elem=document.createElement("audio"),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");bool.mp3=elem.canPlayType("audio/mpeg;").replace(/^no$/,"");bool.wav=elem.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");bool.m4a=(elem.canPlayType("audio/x-m4a;")||elem.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(e){}return bool};tests["localstorage"]=function(){try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true}catch(e){return false}};tests["sessionstorage"]=function(){try{sessionStorage.setItem(mod,mod);sessionStorage.removeItem(mod);return true}catch(e){return false}};tests["webworkers"]=function(){return!!window.Worker};tests["applicationcache"]=function(){return!!window.applicationCache};tests["svg"]=function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,"svg").createSVGRect};tests["inlinesvg"]=function(){var div=document.createElement("div");div.innerHTML="<svg/>";return(div.firstChild&&div.firstChild.namespaceURI)==ns.svg};tests["smil"]=function(){return!!document.createElementNS&&/SVGAnimate/.test(toString.call(document.createElementNS(ns.svg,"animate")))};tests["svgclippaths"]=function(){return!!document.createElementNS&&/SVGClipPath/.test(toString.call(document.createElementNS(ns.svg,"clipPath")))};function webforms(){Modernizr["input"]=function(props){for(var i=0,len=props.length;i<len;i++){attrs[props[i]]=!!(props[i]in inputElem)}if(attrs.list){attrs.list=!!(document.createElement("datalist")&&window.HTMLDataListElement)}return attrs}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));Modernizr["inputtypes"]=function(props){for(var i=0,bool,inputElemType,defaultView,len=props.length;i<len;i++){inputElem.setAttribute("type",inputElemType=props[i]);bool=inputElem.type!=="text";if(bool){inputElem.value=smile;inputElem.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(inputElemType)&&inputElem.style.WebkitAppearance!==undefined){docElement.appendChild(inputElem);defaultView=document.defaultView;bool=defaultView.getComputedStyle&&defaultView.getComputedStyle(inputElem,null).WebkitAppearance!=="textfield"&&inputElem.offsetHeight!==0;docElement.removeChild(inputElem)}else if(/^(search|tel)$/.test(inputElemType)){}else if(/^(url|email)$/.test(inputElemType)){bool=inputElem.checkValidity&&inputElem.checkValidity()===false}else{bool=inputElem.value!=smile}}inputs[props[i]]=!!bool}return inputs}("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var feature in tests){if(hasOwnProp(tests,feature)){featureName=feature.toLowerCase();Modernizr[featureName]=tests[feature]();classes.push((Modernizr[featureName]?"":"no-")+featureName)}}Modernizr.input||webforms();Modernizr.addTest=function(feature,test){if(typeof feature=="object"){for(var key in feature){if(hasOwnProp(feature,key)){Modernizr.addTest(key,feature[key])}}}else{feature=feature.toLowerCase();if(Modernizr[feature]!==undefined){return Modernizr}test=typeof test=="function"?test():test;if(typeof enableClasses!=="undefined"&&enableClasses){docElement.className+=" "+(test?"":"no-")+feature}Modernizr[feature]=test}return Modernizr};setCss("");modElem=inputElem=null;Modernizr._version=version;Modernizr._prefixes=prefixes;Modernizr._domPrefixes=domPrefixes;Modernizr._cssomPrefixes=cssomPrefixes;Modernizr.hasEvent=isEventSupported;Modernizr.testProp=function(prop){return testProps([prop])};Modernizr.testAllProps=testPropsAll;Modernizr.testStyles=injectElementWithStyles;Modernizr.prefixed=function(prop,obj,elem){if(!obj){return testPropsAll(prop,"pfx")}else{return testPropsAll(prop,obj,elem)}};return Modernizr}(this,this.document);Modernizr.addTest("audiodata",!!window.Audio);Modernizr.addTest("adownload","download"in document.createElement("a"));(function(){if(!Modernizr.webgl)return;var canvas,ctx,exts;try{canvas=document.createElement("canvas");ctx=canvas.getContext("webgl")||canvas.getContext("experimental-webgl");exts=ctx.getSupportedExtensions()}catch(e){return}if(ctx===undefined){Modernizr.webgl=new Boolean(false)}else{Modernizr.webgl=new Boolean(true)}for(var i=-1,len=exts.length;++i<len;){Modernizr.webgl[exts[i]]=true}if(window.TEST&&TEST.audvid){TEST.audvid.push("webgl")}canvas=undefined})();Modernizr.addTest("webintents",function(){return!!Modernizr.prefixed("startActivity",navigator)});Modernizr.addTest("vibrate",!!Modernizr.prefixed("vibrate",navigator));Modernizr.addTest("userdata",function(){return!!document.createElement("div").addBehavior});Modernizr.addTest("unicode",function(){var bool,missingGlyph=document.createElement("span"),star=document.createElement("span");Modernizr.testStyles("#modernizr{font-family:Arial,sans;font-size:300em;}",function(node){missingGlyph.innerHTML="&#5987";star.innerHTML="&#9734";node.appendChild(missingGlyph);node.appendChild(star);bool="offsetWidth"in missingGlyph&&missingGlyph.offsetWidth!==star.offsetWidth});return bool});Modernizr.addTest("scriptdefer","defer"in document.createElement("script"));Modernizr.addTest("scriptasync","async"in document.createElement("script"));Modernizr.addTest("pointerlock",!!Modernizr.prefixed("pointerLockElement",document));Modernizr.addTest("performance",!!Modernizr.prefixed("performance",window));Modernizr.addTest("notification",!!Modernizr.prefixed("Notifications",window));Modernizr.addTest("xhr2","FormData"in window);Modernizr.addTest("eventsource",!!window.EventSource);Modernizr.addTest("getusermedia",!!Modernizr.prefixed("getUserMedia",navigator));Modernizr.addTest("lowbandwidth",function(){var connection=navigator.connection||{type:0};return connection.type==3||connection.type==4||/^[23]g$/.test(connection.type)});Modernizr.addTest("gamepads",!!Modernizr.prefixed("getGamepads",navigator));Modernizr.addTest("fullscreen",function(){for(var i=0;i<Modernizr._domPrefixes.length;i++){if(document[Modernizr._domPrefixes[i].toLowerCase()+"CancelFullScreen"])return true}return!!document["cancelFullScreen"]||false});(function(document,Modernizr){Modernizr.formvalidationapi=false;Modernizr.formvalidationmessage=false;Modernizr.addTest("formvalidation",function(){var form=document.createElement("form");if(!("checkValidity"in form)){return false}var body=document.body,html=document.documentElement,bodyFaked=false,invaildFired=false,input;Modernizr.formvalidationapi=true;form.onsubmit=function(e){if(!window.opera){e.preventDefault()}e.stopPropagation()};form.innerHTML='<input name="modTest" required><button></button>';form.style.position="absolute";form.style.top="-99999em";if(!body){bodyFaked=true;body=document.createElement("body");body.style.background="";html.appendChild(body)}body.appendChild(form);input=form.getElementsByTagName("input")[0];input.oninvalid=function(e){invaildFired=true;e.preventDefault();e.stopPropagation()};Modernizr.formvalidationmessage=!!input.validationMessage;form.getElementsByTagName("button")[0].click();body.removeChild(form);bodyFaked&&html.removeChild(body);return invaildFired})})(document,window.Modernizr);Modernizr.addTest("speechinput",function(){var elem=document.createElement("input");return"speech"in elem||"onwebkitspeechchange"in elem});Modernizr.addTest("fileinput",function(){var elem=document.createElement("input");elem.type="file";return!elem.disabled});Modernizr.addTest("placeholder",function(){return!!("placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea")))});Modernizr.addTest("filereader",function(){return!!(window.File&&window.FileList&&window.FileReader)});Modernizr.addTest("devicemotion","DeviceMotionEvent"in window);Modernizr.addTest("deviceorientation","DeviceOrientationEvent"in window);Modernizr.addTest("dataset",function(){var n=document.createElement("div");n.setAttribute("data-a-b","c");return!!(n.dataset&&n.dataset.aB==="c")});Modernizr.addTest("dataview",typeof DataView!=="undefined"&&"getFloat64"in DataView.prototype);Modernizr.addTest("webaudio",!!(window.webkitAudioContext||window.AudioContext));Modernizr.addTest("battery",!!Modernizr.prefixed("battery",navigator));Modernizr.addTest("contextmenu","contextMenu"in document.documentElement&&"HTMLMenuItemElement"in window);Modernizr.addTest("lowbattery",function(){var minLevel=.2,battery=Modernizr.prefixed("battery",navigator);return!!(battery&&!battery.charging&&battery.level<=minLevel)});(function(undefined){if(String.prototype.trim===undefined)String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")};if(Array.prototype.reduce===undefined)Array.prototype.reduce=function(fun){if(this===void 0||this===null)throw new TypeError;var t=Object(this),len=t.length>>>0,k=0,accumulator;if(typeof fun!="function")throw new TypeError;if(len==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)accumulator=arguments[1];else do{if(k in t){accumulator=t[k++];break}if(++k>=len)throw new TypeError}while(true);while(k<len){if(k in t)accumulator=fun.call(undefined,accumulator,t[k],k,t);k++}return accumulator}})();var Zepto=function(){var undefined,key,$,classList,emptyArray=[],slice=emptyArray.slice,document=window.document,elementDisplay={},classCache={},getComputedStyle=document.defaultView.getComputedStyle,cssNumber={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},fragmentRE=/^\s*<(\w+|!)[^>]*>/,elementTypes=[1,3,8,9,11],adjacencyOperators=["after","prepend","before","append"],table=document.createElement("table"),tableRow=document.createElement("tr"),containers={tr:document.createElement("tbody"),tbody:table,thead:table,tfoot:table,td:tableRow,th:tableRow,"*":document.createElement("div")},readyRE=/complete|loaded|interactive/,classSelectorRE=/^\.([\w-]+)$/,idSelectorRE=/^#([\w-]+)$/,tagSelectorRE=/^[\w-]+$/,toString={}.toString,zepto={},camelize,uniq,tempParent=document.createElement("div");zepto.matches=function(element,selector){if(!element||element.nodeType!==1)return false;var matchesSelector=element.webkitMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector||element.matchesSelector;if(matchesSelector)return matchesSelector.call(element,selector);var match,parent=element.parentNode,temp=!parent;if(temp)(parent=tempParent).appendChild(element);match=~zepto.qsa(parent,selector).indexOf(element);temp&&tempParent.removeChild(element);return match};function isFunction(value){return toString.call(value)=="[object Function]"}function isObject(value){return value instanceof Object}function isPlainObject(value){var key,ctor;if(toString.call(value)!=="[object Object]")return false;ctor=isFunction(value.constructor)&&value.constructor.prototype;if(!ctor||!hasOwnProperty.call(ctor,"isPrototypeOf"))return false;for(key in value);return key===undefined||hasOwnProperty.call(value,key)}function isArray(value){return value instanceof Array}function likeArray(obj){return typeof obj.length=="number"}function compact(array){return array.filter(function(item){return item!==undefined&&item!==null})}function flatten(array){return array.length>0?[].concat.apply([],array):array}camelize=function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})};function dasherize(str){return str.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}uniq=function(array){return array.filter(function(item,idx){return array.indexOf(item)==idx})};function classRE(name){return name in classCache?classCache[name]:classCache[name]=new RegExp("(^|\\s)"+name+"(\\s|$)")}function maybeAddPx(name,value){return typeof value=="number"&&!cssNumber[dasherize(name)]?value+"px":value}function defaultDisplay(nodeName){var element,display;if(!elementDisplay[nodeName]){element=document.createElement(nodeName);document.body.appendChild(element);display=getComputedStyle(element,"").getPropertyValue("display");element.parentNode.removeChild(element);display=="none"&&(display="block");elementDisplay[nodeName]=display}return elementDisplay[nodeName]}zepto.fragment=function(html,name){if(name===undefined)name=fragmentRE.test(html)&&RegExp.$1;if(!(name in containers))name="*";var container=containers[name];container.innerHTML=""+html;return $.each(slice.call(container.childNodes),function(){container.removeChild(this)})};zepto.Z=function(dom,selector){dom=dom||[];dom.__proto__=arguments.callee.prototype;dom.selector=selector||"";return dom};zepto.isZ=function(object){return object instanceof zepto.Z};zepto.init=function(selector,context){if(!selector)return zepto.Z();else if(isFunction(selector))return $(document).ready(selector);else if(zepto.isZ(selector))return selector;else{var dom;if(isArray(selector))dom=compact(selector);else if(isPlainObject(selector))dom=[$.extend({},selector)],selector=null;else if(elementTypes.indexOf(selector.nodeType)>=0||selector===window)dom=[selector],selector=null;else if(fragmentRE.test(selector))dom=zepto.fragment(selector.trim(),RegExp.$1),selector=null;else if(context!==undefined)return $(context).find(selector);else dom=zepto.qsa(document,selector);return zepto.Z(dom,selector)}};$=function(selector,context){return zepto.init(selector,context)};$.extend=function(target){slice.call(arguments,1).forEach(function(source){for(key in source)if(source[key]!==undefined)target[key]=source[key]});return target};zepto.qsa=function(element,selector){var found;return element===document&&idSelectorRE.test(selector)?(found=element.getElementById(RegExp.$1))?[found]:emptyArray:element.nodeType!==1&&element.nodeType!==9?emptyArray:slice.call(classSelectorRE.test(selector)?element.getElementsByClassName(RegExp.$1):tagSelectorRE.test(selector)?element.getElementsByTagName(selector):element.querySelectorAll(selector))};function filtered(nodes,selector){return selector===undefined?$(nodes):$(nodes).filter(selector)}function funcArg(context,arg,idx,payload){return isFunction(arg)?arg.call(context,idx,payload):arg}$.isFunction=isFunction;$.isObject=isObject;$.isArray=isArray;$.isPlainObject=isPlainObject;$.inArray=function(elem,array,i){return emptyArray.indexOf.call(array,elem,i)};$.trim=function(str){return str.trim()};$.uuid=0;$.map=function(elements,callback){var value,values=[],i,key;if(likeArray(elements))for(i=0;i<elements.length;i++){value=callback(elements[i],i);if(value!=null)values.push(value)}else for(key in elements){value=callback(elements[key],key);if(value!=null)values.push(value)}return flatten(values)};$.each=function(elements,callback){var i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++)if(callback.call(elements[i],i,elements[i])===false)return elements}else{for(key in elements)if(callback.call(elements[key],key,elements[key])===false)return elements}return elements};$.fn={forEach:emptyArray.forEach,reduce:emptyArray.reduce,push:emptyArray.push,indexOf:emptyArray.indexOf,concat:emptyArray.concat,map:function(fn){return $.map(this,function(el,i){return fn.call(el,i,el)})},slice:function(){return $(slice.apply(this,arguments))},ready:function(callback){if(readyRE.test(document.readyState))callback($);else document.addEventListener("DOMContentLoaded",function(){callback($)},false);return this},get:function(idx){return idx===undefined?slice.call(this):this[idx]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null)this.parentNode.removeChild(this)})},each:function(callback){this.forEach(function(el,idx){callback.call(el,idx,el)});return this},filter:function(selector){return $([].filter.call(this,function(element){return zepto.matches(element,selector)}))},add:function(selector,context){return $(uniq(this.concat($(selector,context))))},is:function(selector){return this.length>0&&zepto.matches(this[0],selector)},not:function(selector){var nodes=[];if(isFunction(selector)&&selector.call!==undefined)this.each(function(idx){if(!selector.call(this,idx))nodes.push(this)});else{var excludes=typeof selector=="string"?this.filter(selector):likeArray(selector)&&isFunction(selector.item)?slice.call(selector):$(selector);this.forEach(function(el){if(excludes.indexOf(el)<0)nodes.push(el)})}return $(nodes)},eq:function(idx){return idx===-1?this.slice(idx):this.slice(idx,+idx+1)},first:function(){var el=this[0];return el&&!isObject(el)?el:$(el)},last:function(){var el=this[this.length-1];return el&&!isObject(el)?el:$(el)},find:function(selector){var result;if(this.length==1)result=zepto.qsa(this[0],selector);else result=this.map(function(){return zepto.qsa(this,selector)});return $(result)},closest:function(selector,context){var node=this[0];while(node&&!zepto.matches(node,selector))node=node!==context&&node!==document&&node.parentNode;return $(node)},parents:function(selector){var ancestors=[],nodes=this;while(nodes.length>0)nodes=$.map(nodes,function(node){if((node=node.parentNode)&&node!==document&&ancestors.indexOf(node)<0){ancestors.push(node);return node}});return filtered(ancestors,selector)},parent:function(selector){return filtered(uniq(this.pluck("parentNode")),selector)},children:function(selector){return filtered(this.map(function(){return slice.call(this.children)}),selector)},siblings:function(selector){return filtered(this.map(function(i,el){return slice.call(el.parentNode.children).filter(function(child){return child!==el})}),selector)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(property){return this.map(function(){return this[property]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null);if(getComputedStyle(this,"").getPropertyValue("display")=="none")this.style.display=defaultDisplay(this.nodeName)})},replaceWith:function(newContent){return this.before(newContent).remove()},wrap:function(newContent){return this.each(function(){$(this).wrapAll($(newContent)[0].cloneNode(false))})},wrapAll:function(newContent){if(this[0]){$(this[0]).before(newContent=$(newContent));newContent.append(this)}return this},unwrap:function(){this.parent().each(function(){$(this).replaceWith($(this).children())});return this},clone:function(){return $(this.map(function(){return this.cloneNode(true)}))},hide:function(){return this.css("display","none")},toggle:function(setting){return(setting===undefined?this.css("display")=="none":setting)?this.show():this.hide()},prev:function(){return $(this.pluck("previousElementSibling"))},next:function(){return $(this.pluck("nextElementSibling"))},html:function(html){return html===undefined?this.length>0?this[0].innerHTML:null:this.each(function(idx){var originHtml=this.innerHTML;$(this).empty().append(funcArg(this,html,idx,originHtml))})},text:function(text){return text===undefined?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=text})},attr:function(name,value){var result;return typeof name=="string"&&value===undefined?this.length==0||this[0].nodeType!==1?undefined:name=="value"&&this[0].nodeName=="INPUT"?this.val():!(result=this[0].getAttribute(name))&&name in this[0]?this[0][name]:result:this.each(function(idx){if(this.nodeType!==1)return;if(isObject(name))for(key in name)this.setAttribute(key,name[key]);else this.setAttribute(name,funcArg(this,value,idx,this.getAttribute(name)))})},removeAttr:function(name){return this.each(function(){if(this.nodeType===1)this.removeAttribute(name)})},prop:function(name,value){return value===undefined?this[0]?this[0][name]:undefined:this.each(function(idx){this[name]=funcArg(this,value,idx,this[name])})},data:function(name,value){var data=this.attr("data-"+dasherize(name),value);return data!==null?data:undefined},val:function(value){return value===undefined?this.length>0?this[0].value:undefined:this.each(function(idx){this.value=funcArg(this,value,idx,this.value)})},offset:function(){if(this.length==0)return null;var obj=this[0].getBoundingClientRect();return{left:obj.left+window.pageXOffset,top:obj.top+window.pageYOffset,width:obj.width,height:obj.height}},css:function(property,value){if(value===undefined&&typeof property=="string")return this.length==0?undefined:this[0].style[camelize(property)]||getComputedStyle(this[0],"").getPropertyValue(property);var css="";for(key in property)if(typeof property[key]=="string"&&property[key]=="")this.each(function(){this.style.removeProperty(dasherize(key))});else css+=dasherize(key)+":"+maybeAddPx(key,property[key])+";";if(typeof property=="string")if(value=="")this.each(function(){this.style.removeProperty(dasherize(property))});else css=dasherize(property)+":"+maybeAddPx(property,value);return this.each(function(){this.style.cssText+=";"+css})},index:function(element){return element?this.indexOf($(element)[0]):this.parent().children().indexOf(this[0])},hasClass:function(name){if(this.length<1)return false;else return classRE(name).test(this[0].className)},addClass:function(name){return this.each(function(idx){classList=[];var cls=this.className,newName=funcArg(this,name,idx,cls);newName.split(/\s+/g).forEach(function(klass){if(!$(this).hasClass(klass))classList.push(klass)},this);classList.length&&(this.className+=(cls?" ":"")+classList.join(" "))})},removeClass:function(name){return this.each(function(idx){if(name===undefined)return this.className="";classList=this.className;funcArg(this,name,idx,classList).split(/\s+/g).forEach(function(klass){classList=classList.replace(classRE(klass)," ")});this.className=classList.trim()})},toggleClass:function(name,when){return this.each(function(idx){var newName=funcArg(this,name,idx,this.className);(when===undefined?!$(this).hasClass(newName):when)?$(this).addClass(newName):$(this).removeClass(newName)})}};["width","height"].forEach(function(dimension){$.fn[dimension]=function(value){var offset,Dimension=dimension.replace(/./,function(m){return m[0].toUpperCase()});if(value===undefined)return this[0]==window?window["inner"+Dimension]:this[0]==document?document.documentElement["offset"+Dimension]:(offset=this.offset())&&offset[dimension];else return this.each(function(idx){var el=$(this);el.css(dimension,funcArg(this,value,idx,el[dimension]()))})}});function insert(operator,target,node){var parent=operator%2?target:target.parentNode;parent?parent.insertBefore(node,!operator?target.nextSibling:operator==1?parent.firstChild:operator==2?target:null):$(node).remove()}function traverseNode(node,fun){fun(node);for(var key in node.childNodes)traverseNode(node.childNodes[key],fun)}adjacencyOperators.forEach(function(key,operator){$.fn[key]=function(){var nodes=$.map(arguments,function(n){return isObject(n)?n:zepto.fragment(n)});if(nodes.length<1)return this;var size=this.length,copyByClone=size>1,inReverse=operator<2;return this.each(function(index,target){for(var i=0;i<nodes.length;i++){var node=nodes[inReverse?nodes.length-i-1:i];traverseNode(node,function(node){if(node.nodeName!=null&&node.nodeName.toUpperCase()==="SCRIPT"&&(!node.type||node.type==="text/javascript"))window["eval"].call(window,node.innerHTML)});if(copyByClone&&index<size-1)node=node.cloneNode(true);insert(operator,target,node)}})};$.fn[operator%2?key+"To":"insert"+(operator?"Before":"After")]=function(html){$(html)[key](this);return this}});zepto.Z.prototype=$.fn;zepto.camelize=camelize;zepto.uniq=uniq;$.zepto=zepto;return $}();window.Zepto=Zepto;"$"in window||(window.$=Zepto);(function($){var $$=$.zepto.qsa,handlers={},_zid=1,specialEvents={};specialEvents.click=specialEvents.mousedown=specialEvents.mouseup=specialEvents.mousemove="MouseEvents";function zid(element){return element._zid||(element._zid=_zid++)}function findHandlers(element,event,fn,selector){event=parse(event);if(event.ns)var matcher=matcherFor(event.ns);return(handlers[zid(element)]||[]).filter(function(handler){return handler&&(!event.e||handler.e==event.e)&&(!event.ns||matcher.test(handler.ns))&&(!fn||zid(handler.fn)===zid(fn))&&(!selector||handler.sel==selector)})}function parse(event){var parts=(""+event).split(".");return{e:parts[0],ns:parts.slice(1).sort().join(" ")}}function matcherFor(ns){return new RegExp("(?:^| )"+ns.replace(" "," .* ?")+"(?: |$)")}function eachEvent(events,fn,iterator){if($.isObject(events))$.each(events,iterator);else events.split(/\s/).forEach(function(type){iterator(type,fn)})}function add(element,events,fn,selector,getDelegate,capture){capture=!!capture;var id=zid(element),set=handlers[id]||(handlers[id]=[]);eachEvent(events,fn,function(event,fn){var delegate=getDelegate&&getDelegate(fn,event),callback=delegate||fn;var proxyfn=function(event){var result=callback.apply(element,[event].concat(event.data));if(result===false)event.preventDefault();return result};var handler=$.extend(parse(event),{fn:fn,proxy:proxyfn,sel:selector,del:delegate,i:set.length});set.push(handler);element.addEventListener(handler.e,proxyfn,capture)})}function remove(element,events,fn,selector){var id=zid(element);eachEvent(events||"",fn,function(event,fn){findHandlers(element,event,fn,selector).forEach(function(handler){delete handlers[id][handler.i];element.removeEventListener(handler.e,handler.proxy,false)})})}$.event={add:add,remove:remove};$.proxy=function(fn,context){if($.isFunction(fn)){var proxyFn=function(){return fn.apply(context,arguments)};proxyFn._zid=zid(fn);return proxyFn}else if(typeof context=="string"){return $.proxy(fn[context],fn)}else{throw new TypeError("expected function")}};$.fn.bind=function(event,callback){return this.each(function(){add(this,event,callback)})};$.fn.unbind=function(event,callback){return this.each(function(){remove(this,event,callback)})};$.fn.one=function(event,callback){return this.each(function(i,element){add(this,event,callback,null,function(fn,type){return function(){var result=fn.apply(element,arguments);remove(element,type,fn);return result}})})};var returnTrue=function(){return true},returnFalse=function(){return false},eventMethods={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};
function createProxy(event){var proxy=$.extend({originalEvent:event},event);$.each(eventMethods,function(name,predicate){proxy[name]=function(){this[predicate]=returnTrue;return event[name].apply(event,arguments)};proxy[predicate]=returnFalse});return proxy}function fix(event){if(!("defaultPrevented"in event)){event.defaultPrevented=false;var prevent=event.preventDefault;event.preventDefault=function(){this.defaultPrevented=true;prevent.call(this)}}}$.fn.delegate=function(selector,event,callback){var capture=false;if(event=="blur"||event=="focus"){if($.iswebkit)event=event=="blur"?"focusout":event=="focus"?"focusin":event;else capture=true}return this.each(function(i,element){add(element,event,callback,selector,function(fn){return function(e){var evt,match=$(e.target).closest(selector,element).get(0);if(match){evt=$.extend(createProxy(e),{currentTarget:match,liveFired:element});return fn.apply(match,[evt].concat([].slice.call(arguments,1)))}}},capture)})};$.fn.undelegate=function(selector,event,callback){return this.each(function(){remove(this,event,callback,selector)})};$.fn.live=function(event,callback){$(document.body).delegate(this.selector,event,callback);return this};$.fn.die=function(event,callback){$(document.body).undelegate(this.selector,event,callback);return this};$.fn.on=function(event,selector,callback){return selector==undefined||$.isFunction(selector)?this.bind(event,selector):this.delegate(selector,event,callback)};$.fn.off=function(event,selector,callback){return selector==undefined||$.isFunction(selector)?this.unbind(event,selector):this.undelegate(selector,event,callback)};$.fn.trigger=function(event,data){if(typeof event=="string")event=$.Event(event);fix(event);event.data=data;return this.each(function(){if("dispatchEvent"in this)this.dispatchEvent(event)})};$.fn.triggerHandler=function(event,data){var e,result;this.each(function(i,element){e=createProxy(typeof event=="string"?$.Event(event):event);e.data=data;e.target=element;$.each(findHandlers(element,event.type||event),function(i,handler){result=handler.proxy(e);if(e.isImmediatePropagationStopped())return false})});return result};("focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout "+"change select keydown keypress keyup error").split(" ").forEach(function(event){$.fn[event]=function(callback){return this.bind(event,callback)}});["focus","blur"].forEach(function(name){$.fn[name]=function(callback){if(callback)this.bind(name,callback);else if(this.length)try{this.get(0)[name]()}catch(e){}return this}});$.Event=function(type,props){var event=document.createEvent(specialEvents[type]||"Events"),bubbles=true;if(props)for(var name in props)name=="bubbles"?bubbles=!!props[name]:event[name]=props[name];event.initEvent(type,bubbles,true,null,null,null,null,null,null,null,null,null,null,null,null);return event}})(Zepto);(function($){function detect(ua){var os=this.os={},browser=this.browser={},webkit=ua.match(/WebKit\/([\d.]+)/),android=ua.match(/(Android)\s+([\d.]+)/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/),webos=ua.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),touchpad=webos&&ua.match(/TouchPad/),kindle=ua.match(/Kindle\/([\d.]+)/),silk=ua.match(/Silk\/([\d._]+)/),blackberry=ua.match(/(BlackBerry).*Version\/([\d.]+)/);if(browser.webkit=!!webkit)browser.version=webkit[1];if(android)os.android=true,os.version=android[2];if(iphone)os.ios=os.iphone=true,os.version=iphone[2].replace(/_/g,".");if(ipad)os.ios=os.ipad=true,os.version=ipad[2].replace(/_/g,".");if(webos)os.webos=true,os.version=webos[2];if(touchpad)os.touchpad=true;if(blackberry)os.blackberry=true,os.version=blackberry[2];if(kindle)os.kindle=true,os.version=kindle[1];if(silk)browser.silk=true,browser.version=silk[1];if(!silk&&os.android&&ua.match(/Kindle Fire/))browser.silk=true}detect.call($,navigator.userAgent);$.__detect=detect})(Zepto);(function($,undefined){var prefix="",eventPrefix,endEventName,endAnimationName,vendors={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},document=window.document,testEl=document.createElement("div"),supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,clearProperties={};function downcase(str){return str.toLowerCase()}function normalizeEvent(name){return eventPrefix?eventPrefix+name:downcase(name)}$.each(vendors,function(vendor,event){if(testEl.style[vendor+"TransitionProperty"]!==undefined){prefix="-"+downcase(vendor)+"-";eventPrefix=event;return false}});clearProperties[prefix+"transition-property"]=clearProperties[prefix+"transition-duration"]=clearProperties[prefix+"transition-timing-function"]=clearProperties[prefix+"animation-name"]=clearProperties[prefix+"animation-duration"]="";$.fx={off:eventPrefix===undefined&&testEl.style.transitionProperty===undefined,cssPrefix:prefix,transitionEnd:normalizeEvent("TransitionEnd"),animationEnd:normalizeEvent("AnimationEnd")};$.fn.animate=function(properties,duration,ease,callback){if($.isObject(duration))ease=duration.easing,callback=duration.complete,duration=duration.duration;if(duration)duration=duration/1e3;return this.anim(properties,duration,ease,callback)};$.fn.anim=function(properties,duration,ease,callback){var transforms,cssProperties={},key,that=this,wrappedCallback,endEvent=$.fx.transitionEnd;if(duration===undefined)duration=.4;if($.fx.off)duration=0;if(typeof properties=="string"){cssProperties[prefix+"animation-name"]=properties;cssProperties[prefix+"animation-duration"]=duration+"s";endEvent=$.fx.animationEnd}else{for(key in properties)if(supportedTransforms.test(key)){transforms||(transforms=[]);transforms.push(key+"("+properties[key]+")")}else cssProperties[key]=properties[key];if(transforms)cssProperties[prefix+"transform"]=transforms.join(" ");if(!$.fx.off&&typeof properties==="object"){cssProperties[prefix+"transition-property"]=Object.keys(properties).join(", ");cssProperties[prefix+"transition-duration"]=duration+"s";cssProperties[prefix+"transition-timing-function"]=ease||"linear"}}wrappedCallback=function(event){if(typeof event!=="undefined"){if(event.target!==event.currentTarget)return;$(event.target).unbind(endEvent,arguments.callee)}$(this).css(clearProperties);callback&&callback.call(this)};if(duration>0)this.bind(endEvent,wrappedCallback);setTimeout(function(){that.css(cssProperties);if(duration<=0)setTimeout(function(){that.each(function(){wrappedCallback.call(this)})},0)},0);return this};testEl=null})(Zepto);(function($){var jsonpID=0,isObject=$.isObject,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);$(context).trigger(event,data);return!event.defaultPrevented}function triggerGlobal(settings,context,eventName,data){if(settings.global)return triggerAndReturn(context||document,eventName,data)}$.active=0;function ajaxStart(settings){if(settings.global&&$.active++===0)triggerGlobal(settings,null,"ajaxStart")}function ajaxStop(settings){if(settings.global&&!--$.active)triggerGlobal(settings,null,"ajaxStop")}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false)return false;triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings){var context=settings.context;settings.error.call(context,xhr,type,error);triggerGlobal(settings,context,"ajaxError",[xhr,settings,error]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function empty(){}$.ajaxJSONP=function(options){var callbackName="jsonp"+ ++jsonpID,script=document.createElement("script"),abort=function(){$(script).remove();if(callbackName in window)window[callbackName]=empty;ajaxComplete("abort",xhr,options)},xhr={abort:abort},abortTimeout;if(options.error)script.onerror=function(){xhr.abort();options.error()};window[callbackName]=function(data){clearTimeout(abortTimeout);$(script).remove();delete window[callbackName];ajaxSuccess(data,xhr,options)};serializeData(options);script.src=options.url.replace(/=\?/,"="+callbackName);$("head").append(script);if(options.timeout>0)abortTimeout=setTimeout(function(){xhr.abort();ajaxComplete("timeout",xhr,options)},options.timeout);return xhr};$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0};function mimeToDataType(mime){return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(isObject(options.data))options.data=$.param(options.data);if(options.data&&(!options.type||options.type.toUpperCase()=="GET"))options.url=appendQuery(options.url,options.data)}$.ajax=function(options){var settings=$.extend({},options||{});for(key in $.ajaxSettings)if(settings[key]===undefined)settings[key]=$.ajaxSettings[key];ajaxStart(settings);if(!settings.crossDomain)settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host;var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder){if(!hasPlaceholder)settings.url=appendQuery(settings.url,"callback=?");return $.ajaxJSONP(settings)}if(!settings.url)settings.url=window.location.toString();serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=$.ajaxSettings.xhr(),abortTimeout;if(!settings.crossDomain)baseHeaders["X-Requested-With"]="XMLHttpRequest";if(mime){baseHeaders["Accept"]=mime;if(mime.indexOf(",")>-1)mime=mime.split(",",2)[0];xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=$.extend(baseHeaders,settings.headers||{});xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=false;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script")(1,eval)(result);else if(dataType=="xml")result=xhr.responseXML;else if(dataType=="json")result=blankRE.test(result)?null:JSON.parse(result)}catch(e){error=e}if(error)ajaxError(error,"parsererror",xhr,settings);else ajaxSuccess(result,xhr,settings)}else{ajaxError(null,"error",xhr,settings)}}};var async="async"in settings?settings.async:true;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();return false}if(settings.timeout>0)abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings)},settings.timeout);xhr.send(settings.data?settings.data:null);return xhr};$.get=function(url,success){return $.ajax({url:url,success:success})};$.post=function(url,data,success,dataType){if($.isFunction(data))dataType=dataType||success,success=data,data=null;return $.ajax({type:"POST",url:url,data:data,success:success,dataType:dataType})};$.getJSON=function(url,success){return $.ajax({url:url,success:success,dataType:"json"})};$.fn.load=function(url,success){if(!this.length)return this;var self=this,parts=url.split(/\s/),selector;if(parts.length>1)url=parts[0],selector=parts[1];$.get(url,function(response){self.html(selector?$(document.createElement("div")).html(response.replace(rscript,"")).find(selector).html():response);success&&success.call(self)});return this};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var array=$.isArray(obj);$.each(obj,function(key,value){if(scope)key=traditional?scope:scope+"["+(array?"":key)+"]";if(!scope&&array)params.add(value.name,value.value);else if(traditional?$.isArray(value):isObject(value))serialize(params,value,traditional,key);else params.add(key,value)})}$.param=function(obj,traditional){var params=[];params.add=function(k,v){this.push(escape(k)+"="+escape(v))};serialize(params,obj,traditional);return params.join("&").replace("%20","+")}})(Zepto);(function($){$.fn.serializeArray=function(){var result=[],el;$(Array.prototype.slice.call(this.get(0).elements)).each(function(){el=$(this);var type=el.attr("type");if(this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&type!="submit"&&type!="reset"&&type!="button"&&(type!="radio"&&type!="checkbox"||this.checked))result.push({name:el.attr("name"),value:el.val()})});return result};$.fn.serialize=function(){var result=[];this.serializeArray().forEach(function(elm){result.push(encodeURIComponent(elm.name)+"="+encodeURIComponent(elm.value))});return result.join("&")};$.fn.submit=function(callback){if(callback)this.bind("submit",callback);else if(this.length){var event=$.Event("submit");this.eq(0).trigger(event);if(!event.defaultPrevented)this.get(0).submit()}return this}})(Zepto);(function($){var touch={},touchTimeout;function parentIfText(node){return"tagName"in node?node:node.parentNode}function swipeDirection(x1,x2,y1,y2){var xDelta=Math.abs(x1-x2),yDelta=Math.abs(y1-y2);return xDelta>=yDelta?x1-x2>0?"Left":"Right":y1-y2>0?"Up":"Down"}var longTapDelay=750,longTapTimeout;function longTap(){longTapTimeout=null;if(touch.last){touch.el.trigger("longTap");touch={}}}function cancelLongTap(){if(longTapTimeout)clearTimeout(longTapTimeout);longTapTimeout=null}$(document).ready(function(){var now,delta;$(document.body).bind("touchstart",function(e){now=Date.now();delta=now-(touch.last||now);touch.el=$(parentIfText(e.touches[0].target));touchTimeout&&clearTimeout(touchTimeout);touch.x1=e.touches[0].pageX;touch.y1=e.touches[0].pageY;if(delta>0&&delta<=250)touch.isDoubleTap=true;touch.last=now;longTapTimeout=setTimeout(longTap,longTapDelay)}).bind("touchmove",function(e){cancelLongTap();touch.x2=e.touches[0].pageX;touch.y2=e.touches[0].pageY}).bind("touchend",function(e){cancelLongTap();if(touch.isDoubleTap){touch.el.trigger("doubleTap");touch={}}else if(touch.x2&&Math.abs(touch.x1-touch.x2)>30||touch.y2&&Math.abs(touch.y1-touch.y2)>30){touch.el.trigger("swipe")&&touch.el.trigger("swipe"+swipeDirection(touch.x1,touch.x2,touch.y1,touch.y2));touch={}}else if("last"in touch){touch.el.trigger("tap");touchTimeout=setTimeout(function(){touchTimeout=null;touch.el.trigger("singleTap");touch={}},250)}}).bind("touchcancel",function(){if(touchTimeout)clearTimeout(touchTimeout);if(longTapTimeout)clearTimeout(longTapTimeout);longTapTimeout=touchTimeout=null;touch={}})});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(m){$.fn[m]=function(callback){return this.bind(m,callback)}})})(Zepto);function Hammer(element,options,undefined){var self=this;var defaults=mergeObject({prevent_default:false,css_hacks:true,swipe:true,swipe_time:500,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500,allow_touch_and_mouse:false},Hammer.defaults||{});options=mergeObject(defaults,options);(function(){if(!options.css_hacks){return false}var vendors=["webkit","moz","ms","o",""];var css_props={userSelect:"none",touchCallout:"none",touchAction:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var prop="";for(var i=0;i<vendors.length;i++){for(var p in css_props){prop=p;if(vendors[i]){prop=vendors[i]+prop.substring(0,1).toUpperCase()+prop.substring(1)}element.style[prop]=css_props[p]}}})();var _distance=0;var _angle=0;var _direction=0;var _pos={};var _fingers=0;var _first=false;var _gesture=null;var _prev_gesture=null;var _touch_start_time=null;var _prev_tap_pos={x:0,y:0};var _prev_tap_end_time=null;var _hold_timer=null;var _offset={};var _mousedown=false;var _event_start;var _event_move;var _event_end;var _has_touch="ontouchstart"in window;var _can_tap=false;this.option=function(key,val){if(val!==undefined){options[key]=val}return options[key]};this.getDirectionFromAngle=function(angle){var directions={down:angle>=45&&angle<135,left:angle>=135||angle<=-135,up:angle<-45&&angle>-135,right:angle>=-45&&angle<=45};var direction,key;for(key in directions){if(directions[key]){direction=key;break}}return direction};this.destroy=function(){if(_has_touch||options.allow_touch_and_mouse){removeEvent(element,"touchstart touchmove touchend touchcancel",handleEvents)}if(!_has_touch||options.allow_touch_and_mouse){removeEvent(element,"mouseup mousedown mousemove",handleEvents);removeEvent(element,"mouseout",handleMouseOut)}};function countFingers(event){return event.touches?event.touches.length:1}function getXYMouse(event){var doc=document,body=doc.body;return[{x:event.pageX||event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&doc.clientLeft||0),y:event.pageY||event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&doc.clientTop||0)}]}function getXYTouch(event){var pos=[],src;for(var t=0,len=options.two_touch_max?Math.min(2,event.touches.length):event.touches.length;t<len;t++){src=event.touches[t];pos.push({x:src.pageX,y:src.pageY})}return pos}function getXYfromEvent(event){var _fn=getXYMouse;event=event||window.event;if(!_has_touch){if(options.allow_touch_and_mouse&&event.touches!==undefined&&event.touches.length>0){_fn=getXYTouch}}else{_fn=getXYTouch}return _fn(event)}function getAngle(pos1,pos2){return Math.atan2(pos2.y-pos1.y,pos2.x-pos1.x)*180/Math.PI}function getDistance(pos1,pos2){var x=pos2.x-pos1.x,y=pos2.y-pos1.y;return Math.sqrt(x*x+y*y)}function calculateScale(pos_start,pos_move){if(pos_start.length==2&&pos_move.length==2){var start_distance=getDistance(pos_start[0],pos_start[1]);var end_distance=getDistance(pos_move[0],pos_move[1]);return end_distance/start_distance}return 0}function calculateRotation(pos_start,pos_move){if(pos_start.length==2&&pos_move.length==2){var start_rotation=getAngle(pos_start[1],pos_start[0]);var end_rotation=getAngle(pos_move[1],pos_move[0]);return end_rotation-start_rotation}return 0}function triggerEvent(eventName,params){params.touches=getXYfromEvent(params.originalEvent);params.type=eventName;if(isFunction(self["on"+eventName])){self["on"+eventName].call(self,params)}}function cancelEvent(event){event=event||window.event;if(event.preventDefault){event.preventDefault();event.stopPropagation()}else{event.returnValue=false;event.cancelBubble=true}}function reset(){_pos={};_first=false;_fingers=0;_distance=0;_angle=0;_gesture=null}var gestures={hold:function(event){if(options.hold){_gesture="hold";clearTimeout(_hold_timer);_hold_timer=setTimeout(function(){if(_gesture=="hold"){triggerEvent("hold",{originalEvent:event,position:_pos.start})}},options.hold_timeout)}},swipe:function(event){if(!_pos.move||_gesture==="transform"){return}var _distance_x=_pos.move[0].x-_pos.start[0].x;var _distance_y=_pos.move[0].y-_pos.start[0].y;_distance=Math.sqrt(_distance_x*_distance_x+_distance_y*_distance_y);var now=(new Date).getTime();var touch_time=now-_touch_start_time;if(options.swipe&&options.swipe_time>=touch_time&&_distance>=options.swipe_min_distance){_angle=getAngle(_pos.start[0],_pos.move[0]);_direction=self.getDirectionFromAngle(_angle);_gesture="swipe";var position={x:_pos.move[0].x-_offset.left,y:_pos.move[0].y-_offset.top};var event_obj={originalEvent:event,position:position,direction:_direction,distance:_distance,distanceX:_distance_x,distanceY:_distance_y,angle:_angle};triggerEvent("swipe",event_obj)}},drag:function(event){var _distance_x=_pos.move[0].x-_pos.start[0].x;var _distance_y=_pos.move[0].y-_pos.start[0].y;_distance=Math.sqrt(_distance_x*_distance_x+_distance_y*_distance_y);if(options.drag&&_distance>options.drag_min_distance||_gesture=="drag"){_angle=getAngle(_pos.start[0],_pos.move[0]);_direction=self.getDirectionFromAngle(_angle);var is_vertical=_direction=="up"||_direction=="down";if((is_vertical&&!options.drag_vertical||!is_vertical&&!options.drag_horizontal)&&_distance>options.drag_min_distance){return}_gesture="drag";var position={x:_pos.move[0].x-_offset.left,y:_pos.move[0].y-_offset.top};var event_obj={originalEvent:event,position:position,direction:_direction,distance:_distance,distanceX:_distance_x,distanceY:_distance_y,angle:_angle};if(_first){triggerEvent("dragstart",event_obj);_first=false}triggerEvent("drag",event_obj);cancelEvent(event)}},transform:function(event){if(options.transform){var count=countFingers(event);if(count!==2){return false}var rotation=calculateRotation(_pos.start,_pos.move);var scale=calculateScale(_pos.start,_pos.move);if(_gesture==="transform"||Math.abs(1-scale)>options.scale_treshold||Math.abs(rotation)>options.rotation_treshold){if(_gesture==="drag"){triggerEvent("dragend",{originalEvent:event,direction:_direction,distance:_distance,angle:_angle});_first=true}_gesture="transform";_pos.center={x:(_pos.move[0].x+_pos.move[1].x)/2-_offset.left,y:(_pos.move[0].y+_pos.move[1].y)/2-_offset.top};if(_first)_pos.startCenter=_pos.center;var _distance_x=_pos.center.x-_pos.startCenter.x;var _distance_y=_pos.center.y-_pos.startCenter.y;_distance=Math.sqrt(_distance_x*_distance_x+_distance_y*_distance_y);var event_obj={originalEvent:event,position:_pos.center,scale:scale,rotation:rotation,distance:_distance,distanceX:_distance_x,distanceY:_distance_y};if(_first){triggerEvent("transformstart",event_obj);_first=false}triggerEvent("transform",event_obj);cancelEvent(event);return true}}return false},tap:function(event){var now=(new Date).getTime();var touch_time=now-_touch_start_time;if(options.hold&&!(options.hold&&options.hold_timeout>touch_time)){return}var is_double_tap=function(){if(_prev_tap_pos&&options.tap_double&&_prev_gesture=="tap"&&_pos.start&&_touch_start_time-_prev_tap_end_time<options.tap_max_interval){var x_distance=Math.abs(_prev_tap_pos[0].x-_pos.start[0].x);var y_distance=Math.abs(_prev_tap_pos[0].y-_pos.start[0].y);return _prev_tap_pos&&_pos.start&&Math.max(x_distance,y_distance)<options.tap_double_distance}return false}();if(is_double_tap){_gesture="double_tap";_prev_tap_end_time=null;triggerEvent("doubletap",{originalEvent:event,position:_pos.start});cancelEvent(event)}else{var x_distance=_pos.move?Math.abs(_pos.move[0].x-_pos.start[0].x):0;var y_distance=_pos.move?Math.abs(_pos.move[0].y-_pos.start[0].y):0;_distance=Math.max(x_distance,y_distance);if(_distance<options.tap_max_distance){_gesture="tap";_prev_tap_end_time=now;_prev_tap_pos=_pos.start;if(options.tap){triggerEvent("tap",{originalEvent:event,position:_pos.start});cancelEvent(event)}}}}};function handleEvents(event){var count;switch(event.type){case"mousedown":case"touchstart":count=countFingers(event);_can_tap=count===1;if(count===2&&_gesture==="drag"){triggerEvent("dragend",{originalEvent:event,direction:_direction,distance:_distance,angle:_angle})}_setup();if(options.prevent_default){cancelEvent(event)}break;case"mousemove":case"touchmove":count=countFingers(event);if(!_mousedown&&count===1){return false}else if(!_mousedown&&count===2){_can_tap=false;reset();_setup()}_event_move=event;_pos.move=getXYfromEvent(event);if(!gestures.transform(event)){gestures.drag(event)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":var callReset=true;_mousedown=false;_event_end=event;gestures.swipe(event);if(_gesture=="drag"){triggerEvent("dragend",{originalEvent:event,direction:_direction,distance:_distance,angle:_angle})}else if(_gesture=="transform"){var _distance_x=_pos.center.x-_pos.startCenter.x;var _distance_y=_pos.center.y-_pos.startCenter.y;triggerEvent("transformend",{originalEvent:event,position:_pos.center,scale:calculateScale(_pos.start,_pos.move),rotation:calculateRotation(_pos.start,_pos.move),distance:_distance,distanceX:_distance_x,distanceY:_distance_y});if(countFingers(event)===1){reset();_setup();callReset=false}}else if(_can_tap&&event.type!="mouseout"){gestures.tap(_event_start)}if(_gesture!==null){_prev_gesture=_gesture;triggerEvent("release",{originalEvent:event,gesture:_gesture,position:_pos.move||_pos.start})}if(callReset){reset()}break}function _setup(){_pos.start=getXYfromEvent(event);_touch_start_time=(new Date).getTime();_fingers=countFingers(event);_first=true;_event_start=event;var box=element.getBoundingClientRect();var clientTop=element.clientTop||document.body.clientTop||0;var clientLeft=element.clientLeft||document.body.clientLeft||0;var scrollTop=window.pageYOffset||element.scrollTop||document.body.scrollTop;var scrollLeft=window.pageXOffset||element.scrollLeft||document.body.scrollLeft;_offset={top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft};_mousedown=true;gestures.hold(event)}}function handleMouseOut(event){if(!isInsideHammer(element,event.relatedTarget)){handleEvents(event)}}if(_has_touch||options.allow_touch_and_mouse){addEvent(element,"touchstart touchmove touchend touchcancel",handleEvents)}if(!_has_touch||options.allow_touch_and_mouse){addEvent(element,"mouseup mousedown mousemove",handleEvents);addEvent(element,"mouseout",handleMouseOut)}function isInsideHammer(parent,child){if(!child&&window.event&&window.event.toElement){child=window.event.toElement}if(parent===child){return true}if(child){var node=child.parentNode;while(node!==null){if(node===parent){return true}node=node.parentNode}}return false}function mergeObject(obj1,obj2){var output={};if(!obj2){return obj1}for(var prop in obj1){if(prop in obj2){output[prop]=obj2[prop]}else{output[prop]=obj1[prop]}}return output}function isFunction(obj){return Object.prototype.toString.call(obj)=="[object Function]"}function addEvent(element,types,callback){types=types.split(" ");for(var t=0,len=types.length;t<len;t++){if(element.addEventListener){element.addEventListener(types[t],callback,false)}else if(document.attachEvent){element.attachEvent("on"+types[t],callback)}}}function removeEvent(element,types,callback){types=types.split(" ");for(var t=0,len=types.length;t<len;t++){if(element.removeEventListener){element.removeEventListener(types[t],callback,false)}else if(document.detachEvent){element.detachEvent("on"+types[t],callback)}}}}"use strict";var Modernizr=Modernizr;var OrientationCheck={init:function(){$("body").addClass("landscape");OrientationCheck.check();OrientationCheck.resize()},check:function(){if(window.innerWidth>window.innerHeight)$("body").addClass("landscape").removeClass("portrait");else $("body").addClass("portrait").removeClass("landscape")},resize:function(){window.addEventListener("resize",function(){OrientationCheck.check()},false)}};var LocalStorage={settings:{supports:Modernizr.localstorage?true:false,prefix:"sm-"},get:function(key){if(!this.settings.supports||key===""){return false}try{return JSON.parse(localStorage.getItem(this.settings.prefix+key));return true}catch(e){return false}},getAll:function(){if(!this.settings.supports){return false}try{var output=[];for(var key in localStorage){output.push(key)}return output}catch(e){console.log(e);return false}},set:function(key,value){if(!this.settings.supports||key===""||value===""){return false}try{localStorage.setItem(this.settings.prefix+key,value);return true}catch(e){return false}},remove:function(key){if(!this.settings.supports||key===""){return false}try{localStorage.removeItem(key);return true}catch(e){return false}},removeAll:function(){if(!this.settings.supports){return false}try{localStorage.clear();return true}catch(e){return false}}};var Modal={settings:{},init:function(s){for(key in s){this.settings[key]=s[key]}}};var Geolocation={settings:{supports:Modernizr.geolocation?true:false},getLocation:function(){if(this.settings.supports){navigator.geolocation.getCurrentPosition(function(position){var lat=position.coords.latitude;var long=position.coords.longitude;Geolocation.showMap(lat,long)})}},showMap:function(lat,long){var mapOptions={center:lat+","+long,zoom:12,size:"300x300",maptype:"roadmap",sensor:"true",scale:2};var src="http://maps.googleapis.com/maps/api/staticmap?"+$.param(mapOptions,true).replace("%2C",",");$("#js-map").append("<img />");$("#js-map img").attr({src:src,width:300,height:300})}};var slideBeginX;function touchStart(event){event.preventDefault();slideBeginX=event.targetTouches[0].pageX}function touchMove(event){event.preventDefault()}function touchEnd(event){event.preventDefault();var slideEndX=event.changedTouches[0].pageX;if(Math.abs(slideEndX-slideBeginX)>200){if(slideEndX-slideBeginX>0){}else{}}}var ShowNavigation={init:function(){this.UIbind()},UIbind:function(){$(".js-open-nav-left").on("touchstart",function(){if(!$(".js-content-wrap").hasClass("js-left-nav-open")){$(".js-content-wrap").animate({left:"83.5%"},200).addClass("js-left-nav-open");$("html, body").css("overflow-x","hidden")}else{$(".js-content-wrap").animate({left:0},200).removeClass("js-left-nav-open");$("html, body").css("overflow-x","auto")}})}};Zepto(function($){OrientationCheck.init();ShowNavigation.init();$('input[type="button"]').addClass("btn");$('input[type="checkbox"]').addClass("checkbox");$('input[type="file"]').addClass("file");$('input[type="image"]').addClass("image");$('input[type="password"]').addClass("password");$('input[type="radio"]').addClass("radio");$('input[type="submit"]').addClass("submit btn");$('input[type="reset"]').addClass("reset");$('input[type="text"]').addClass("text");$('input[type="email"]').addClass("email");var supportsOutput="";for(var item in Modernizr){if(Modernizr[item]===true){supportsOutput+="<li>"+item+"</li>"}}});